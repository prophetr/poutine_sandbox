version: 2

models:

  - name: dim_customers
    meta:
      owner: "@data_team"
      model_maturity: in dev
    description: >
      One record per customer with details about their first and latest order
      dates, count of orders, number of events and total revenue contributed
      by the customer. This table is designed to join any fact table which
      contains customer_id as the foreign key.
    columns:
      - name: customer_id
        description: Primary key of the dim_customers table.
        tests:
          - not_null
          - unique
      - name: first_order_created_at
        description: Customer's first order timestamp.
      - name: latest_order_created_at
        description: Customer's latest order timestamp.
      - name: customer_name
        description: Name of the customer.
      - name: customer_gender
        description: Gender of the customer.
      - name: count_orders
        description: Total number of orders placed by the customer.
      - name: count_unique_events
        description: Total number of events initiated by the customer.
      - name: sum_order_revenue
        description: Total amount spent by the customer.
