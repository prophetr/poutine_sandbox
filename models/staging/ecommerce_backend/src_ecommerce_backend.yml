version: 2

sources:
  - name: ecommerce_backend
    description: Data from Poutine Shop ecommerce backend
    database: dbt_poutineshop_raw
    schema: raw_data
    tables:
      - name: distribution_centers
        identifier: distribution_centers
        description: A dimension table that list all Poutine Shop distribution centers
        columns:
          - name: id
            description: '{{ doc("ecommerce_backend__distribution_center__id") }}'
          - name: name
            description: '{{ doc("ecommerce_backend__distribution_centers__name") }}'
          - name: latitude
            description: '{{ doc("ecommerce_backend__latitude") }}'
          - name: longitude
            description: '{{ doc("ecommerce_backend__longitude") }}'
      - name: events
        identifier: events
        description: A collection of all events that happened on Poutine Shop
        columns:
          - name: id
            description: '{{ doc("ecommerce_backend__events__id") }}'
          - name: sequence_number
            description: '{{ doc("ecommerce_backend__events__sequence_number") }}'
          - name: session_id
            description: '{{ doc("ecommerce_backend__events__session_id") }}'
          - name: created_at
            description: '{{ doc("ecommerce_backend__created_at") }}'
          - name: ip_address
            description: '{{ doc("ecommerce_backend__ip_address") }}'
          - name: city
            description: '{{ doc("ecommerce_backend__city") }}'
          - name: state
            description: '{{ doc("ecommerce_backend__state") }}'
          - name: country
            description: '{{ doc("ecommerce_backend__country") }}'
          - name: zip
            description: '{{ doc("ecommerce_backend__zip") }}'
          - name: latitude
            description: '{{ doc("ecommerce_backend__latitude") }}'
          - name: longitude
            description: '{{ doc("ecommerce_backend__longitude") }}'
          - name: os
            description: '{{ doc("ecommerce_backend__os") }}'
          - name: browser
            description: '{{ doc("ecommerce_backend__browser") }}'
          - name: traffic_source
            description: '{{ doc("ecommerce_backend__events__traffic_source") }}'
          - name: user_id
            description: '{{ doc("ecommerce_backend__users__id") }}'
          - name: uri
            description: '{{ doc("ecommerce_backend__events__uri") }}'
          - name: event_type
            description: '{{ doc("ecommerce_backend__events__event_type") }}'
      - name: inventory_items
        identifier: inventory_items
        description: A table that joins inventory stock with product sold at Poutine Shop
        columns:
          - name: id
            description: '{{ doc("ecommerce_backend__inventory_items__id") }}'
          - name: product_id
            description: '{{ doc("ecommerce_backend__products__id") }}'
          - name: created_at
            description: '{{ doc("ecommerce_backend__created_at") }}'
          - name: sold_at
            description: '{{ doc("ecommerce_backend__inventory_items__sold_at") }}'
          - name: cost
            description: '{{ doc("ecommerce_backend__inventory_items__cost") }}'
          - name: product_category
            description: '{{ doc("ecommerce_backend__products__category") }}'
          - name: product_name
            description: '{{ doc("ecommerce_backend__products__name") }}'
          - name: product_brand
            description: '{{ doc("ecommerce_backend__products__brand") }}'
          - name: product_retail_price
            description: '{{ doc("ecommerce_backend__products__retail_price") }}'
          - name: product_department
            description: '{{ doc("ecommerce_backend__products__department") }}'
          - name: product_sku
            description: '{{ doc("ecommerce_backend__products__sku") }}'
          - name: product_distribution_center_id
            description: '{{ doc("ecommerce_backend__distribution_center__id") }}'
      - name: order_items
        identifier: order_items
        description: Table containing order item information
        columns:
          - name: id
            description: '{{ doc("ecommerce_backend__order_items__id") }}'
          - name: order_id
            description: '{{ doc("ecommerce_backend__orders__id") }}'
          - name: user_id
            description: '{{ doc("ecommerce_backend__users__id") }}'
          - name: inventory_item_id
            description: '{{ doc("ecommerce_backend__inventory_items__id") }}'
          - name: sale_price
            description: '{{ doc("ecommerce_backend__order_items__sale_price") }}'
          - name: status
            description: '{{ doc("ecommerce_backend__order_items__status") }}'
          - name: created_at
            description: '{{ doc("ecommerce_backend__created_at") }}'
          - name: returned_at
            description: '{{ doc("ecommerce_backend__returned_at") }}'
          - name: shipped_at
            description: '{{ doc("ecommerce_backend__shipped_at") }}'
          - name: delivered_at
            description: '{{ doc("ecommerce_backend__delivered_at") }}'
      - name: products
        identifier: products
        description: A dimensional table containing all Poutine Shop products
        columns:
          - name: id
            description: '{{ doc("ecommerce_backend__products__id") }}'
          - name: cost
            description: '{{ doc("ecommerce_backend__products__cost") }}'
          - name: category
            description: '{{ doc("ecommerce_backend__products__category") }}'
          - name: name
            description: '{{ doc("ecommerce_backend__products__name") }}'
          - name: brand
            description: '{{ doc("ecommerce_backend__products__brand") }}'
          - name: retail_price
            description: '{{ doc("ecommerce_backend__products__retail_price") }}'
          - name: department
            description: '{{ doc("ecommerce_backend__products__department") }}'
          - name: sku
            description: '{{ doc("ecommerce_backend__products__sku") }}'
          - name: distribution_center_id
            description: '{{ doc("ecommerce_backend__distribution_center__id") }}'
      - name: users
        identifier: users
        description: A dimensional table containing all users that shopped at Poutine Shop
        columns:
          - name: id
            description: '{{ doc("ecommerce_backend__users__id") }}'
          - name: first_name
            description: '{{ doc("ecommerce_backend__users__first_name") }}'
          - name: last_name
            description: '{{ doc("ecommerce_backend__users__last_name") }}'
          - name: email
            description: '{{ doc("ecommerce_backend__users__email") }}'
          - name: age
            description: '{{ doc("ecommerce_backend__users__age") }}'
          - name: city
            description: '{{ doc("ecommerce_backend__city") }}'
          - name: state
            description: '{{ doc("ecommerce_backend__state") }}'
          - name: country
            description: '{{ doc("ecommerce_backend__country") }}'
          - name: latitude
            description: '{{ doc("ecommerce_backend__latitude") }}'
          - name: longitude
            description: '{{ doc("ecommerce_backend__longitude") }}'
          - name: gender
            description: '{{ doc("ecommerce_backend__gender") }}'
          - name: created_at
            description: '{{ doc("ecommerce_backend__created_at") }}'
          - name: traffic_source
            description: '{{ doc("ecommerce_backend__users__traffic_source") }}'
          - name: zip
            description: '{{ doc("ecommerce_backend__zip") }}'
